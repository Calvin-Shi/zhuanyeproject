{% load static %} <!-- 稍后会解释 static -->
<!doctype html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- 标题块，子模板可以覆盖这个标题 -->
    <title>{% block title %}电影推荐系统{% endblock %}</title>

    <!-- 引入 Bootstrap CSS (从CDN) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- 如果有自己的CSS，可以放在这里 -->
    <!-- <link rel="stylesheet" href="{% static 'css/custom.css' %}"> -->
</head>
<body>

    <!-- 导航栏 -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="{% url 'movie_list' %}">电影推荐系统</a>
            <div class="d-flex">
                {% if user.is_authenticated %}
                    <!-- 如果用户已登录 -->
                    <span class="navbar-text me-3">
                        欢迎, {{ user.username }}
                    </span>
                    <form action="{% url 'logout' %}" method="post" class="d-inline">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-outline-light">登出</button>
                    </form>
                {% else %}
                    <!-- 如果用户未登录 -->
                    <a href="{% url 'login' %}" class="btn btn-outline-light me-2">登录</a>
                    <!-- 注册页面的链接 -->
                    <a href="{% url 'register_page' %}" class="btn btn-warning">注册</a>
                {% endif %}
            </div>
        </div>
    </nav>

    <!-- 主内容区 -->
    <main class="container mt-4">
        <!-- 内容块，这是子模板将要填充的核心区域 -->
        {% block content %}
        {% endblock %}
    </main>

    <!-- 引入 Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- 如果有自己的JS，可以放在这里 -->
    <!-- <script src="{% static 'js/app.js' %}"></script> -->
</body>
</html>